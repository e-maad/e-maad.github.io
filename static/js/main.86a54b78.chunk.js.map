{"version":3,"sources":["common/utils/seo-name.helper.ts","components/shared/footer/footer.component.tsx","hooks/characters/useGetCharacters.ts","components/shared/search-input/search-input.component.tsx","components/custom-card-header/custom-card-header.component.tsx","components/card/card.component.tsx","containers/characters/characters.component.tsx","containers/home-page/home-page.component.tsx","hooks/characters/useGetCharacterByID.ts","store/action-types.ts","containers/profile-page/profile-page.component.tsx","store/actions/index.ts","components/app/app.routes.ts","containers/search-page/search-page.component.tsx","components/app/app.component.tsx","store/reducers/index.ts","store/index.ts","index.tsx"],"names":["getSEOFriendlyName","id","name","replace","toLowerCase","Footer","visitedProfiles","useSelector","state","length","map","visitedProfile","to","Button","color","GET_CHARACTERS","gql","useGetCharacters","variables","skip","useQuery","loadingText","SearchInput","history","useHistory","useState","searchInput","setsearchInput","nameFilter","setNameFilter","isAutoCompleteVisible","setAutoCompleteVisibility","filter","loading","data","useEffect","handler","setTimeout","clearTimeout","navigateToSearchPage","query","push","page","onSearchClickHandler","onKeyPress","event","key","uniqueOptions","Array","from","Set","characters","results","character","Grid","container","spacing","item","xs","Autocomplete","value","onChange","onInputChange","newInputValue","options","selectOnFocus","freeSolo","open","onBlur","renderInput","params","TextField","label","InputProps","onKeyDown","endAdornment","Fragment","CircularProgress","size","getOptionDisabled","option","variant","startIcon","onClick","CustomCardHeader","status","className","classNames","Card","src","image","alt","CardActions","previousPath","location","pathname","search","Characters","searchQuery","useLocation","Number","setPage","info","pages","Pagination","count","Typography","HomePage","GET_CHARACTER_BY_ID","useGetCharacterByID","ADD_VISITED_PROFILE","notAvailbleText","ProfilePage","useParams","dispatch","useDispatch","characterId","seoName","namePieces","split","shift","getIDFromSEOFriendlyName","goBackClickHandler","isNaN","type","payload","List","ListItem","divider","ListItemText","primary","secondary","species","gender","routes","path","component","basePath","title","queryParams","QueryString","parse","ignoreQueryPrefix","q","App","currentRoute","appRoutes","find","route","document","exact","render","initialState","rootReducer","action","pop","store","createStore","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","StrictMode","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.86a54b78.chunk.js","sourcesContent":["export const getSEOFriendlyName = (id: Number, name: string) => {\n    return `${id}-${name.replace(/ /g, '-').toLowerCase()}`;\n}\n\nexport const getIDFromSEOFriendlyName = (seoName: string) => {\n    const namePieces = seoName.split('-');\n    return Number(namePieces.shift());\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { Button } from '@material-ui/core';\n\nimport RootState from '../../../common/interfaces/root-state.interface';\nimport VisitedProfile from '../../../common/interfaces/visited-profile.interface';\nimport { getSEOFriendlyName } from '../../../common/utils/seo-name.helper';\n\nconst Footer: React.FC = () => {\n    const visitedProfiles = useSelector<RootState, Array<VisitedProfile>>(state => state.visitedProfiles);\n    return <div>\n        {visitedProfiles.length ? visitedProfiles.map(visitedProfile =>\n            <Link key={visitedProfile.id}\n                to={`/profile/${getSEOFriendlyName(visitedProfile.id, visitedProfile.name)}`}\n            >\n                <Button color='primary'>\n                    {visitedProfile.name}\n                </Button>\n            </Link>\n        ) : ''}\n    </div>\n}\n\nexport default Footer;","import { gql, useQuery } from '@apollo/client';\n\nimport CharactersData from '../../common/interfaces/characters-data.interface';\nimport PaginationFilter from '../../common/interfaces/pagination-filter.interface';\n\nconst GET_CHARACTERS = gql`\n    query GetCharacters($page: Int, $filter: FilterCharacter ) {\n        characters(page: $page, filter: $filter) {\n            info {\n                count\n                pages\n            }\n            results {\n                id\n                name\n                image\n                status\n            }\n        }\n    }\n`\n\nconst useGetCharacters = (variables: PaginationFilter, skip: boolean = false) =>\n    useQuery<CharactersData, PaginationFilter>(GET_CHARACTERS, {\n        variables,\n        skip\n    });\n\nexport default useGetCharacters;","import React, { ChangeEvent, KeyboardEventHandler, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { Button, CircularProgress, Grid, TextField } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport useGetCharacters from '../../../hooks/characters/useGetCharacters';\n\nconst searchDebounceInMs = 1000;\nconst loadingText = 'Loading...';\nconst SearchInput: React.FC = () => {\n    const history = useHistory();\n    const [searchInput, setsearchInput] = useState('')\n    const [nameFilter, setNameFilter] = useState('')\n\n    // added this state to forcefully close auto complete suggestion\n    const [isAutoCompleteVisible, setAutoCompleteVisibility] = useState(false);\n\n    // skipped initial call \n    // skipped all calls when there is no search input\n    // for optimization\n    const { loading, data } = useGetCharacters({ filter: { name: nameFilter } }, nameFilter === '');\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setNameFilter(searchInput);\n        }, searchDebounceInMs);\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [searchInput])\n\n    const navigateToSearchPage = (query: string) => {\n        setNameFilter('');\n        setAutoCompleteVisibility(false);\n        history.push(`/search?q=${query}`, { page: 1 });\n    }\n\n    const searchChangeHandler = (event: ChangeEvent<{}>, value: string | null | undefined) => {\n        navigateToSearchPage(value || '');\n    }\n\n\n    const searchInputChangeHandler = (event: ChangeEvent<{}>, newInputValue: string) => {\n        if (newInputValue) {\n            setsearchInput(newInputValue);\n        }\n\n        // showing auto complete suggestions on text change \n        if (!isAutoCompleteVisible) {\n            setAutoCompleteVisibility(true);\n        }\n    }\n\n    const onSearchClickHandler = () => {\n        navigateToSearchPage(searchInput);\n    }\n\n    const onKeyPress: KeyboardEventHandler<HTMLInputElement> = event => {\n        if (event.key === 'Enter' && searchInput) {\n            setAutoCompleteVisibility(false);\n            onSearchClickHandler();\n        }\n    }\n\n    // characters may have repetitive names\n    // removed repetitve options\n    // added 'Loading...' option when it is loading and there is no data to show\n    const uniqueOptions = Array.from(new Set(\n        data?.characters.results.map(character => character.name) ||\n        (loading ? [loadingText] : [])\n    ))\n\n    return <Grid container spacing={3}>\n        <Grid item xs={9}>\n            <Autocomplete\n                value={searchInput}\n                onChange={searchChangeHandler}\n                onInputChange={searchInputChangeHandler}\n                options={uniqueOptions}\n                selectOnFocus\n                freeSolo\n                open={isAutoCompleteVisible}\n                onBlur={() => setAutoCompleteVisibility(false)}\n                renderInput={(params) => (\n                    <TextField {...params} label=\"Search Character\"\n                        InputProps={{\n                            ...params.InputProps,\n                            onKeyDown: onKeyPress,\n                            endAdornment: (\n                                <React.Fragment>\n                                    {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                                    {params.InputProps.endAdornment}\n                                </React.Fragment>\n                            ),\n                        }}\n                    />\n                )}\n                getOptionDisabled={(option) => option === loadingText}\n            />\n        </Grid>\n        <Grid item xs={3}>\n            <Button\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                startIcon={<SearchIcon />}\n                onClick={onSearchClickHandler}\n            >\n                Search\n            </Button>\n        </Grid>\n    </Grid>\n\n}\n\nexport default SearchInput;","import './custom-card-header.scss';\n\nimport classNames from 'classnames';\nimport React from 'react';\n\nimport CustomCardHeaderProps from '../../common/types/custom-card-header-props.type';\n\nconst CustomCardHeader: React.FC<CustomCardHeaderProps> = ({ name, status }) => {\n    return <div className='custom-card-header-container'>\n        <div className='custom-card-header'>\n            {name}\n            <span className={classNames('custom-card-header__status', status.toLowerCase())}>\n                {status}\n            </span>\n        </div>\n    </div>\n}\n\nexport default CustomCardHeader","import React from 'react';\nimport { useHistory } from 'react-router';\n\nimport { Button, Card as MaterialUICard, CardActions } from '@material-ui/core';\n\nimport CardProps from '../../common/types/card-props.type';\nimport { getSEOFriendlyName } from '../../common/utils/seo-name.helper';\nimport CustomCardHeader from '../custom-card-header/custom-card-header.component';\n\nconst Card: React.FC<CardProps> = ({ character, page }) => {\n    const history = useHistory();\n\n    // passing state (page and previous path) just to make sure \n    // that the user land on the same page (pagination)\n    const goToProfileClickHandler = (id: number, name: string) => {\n        history.push(`/profile/${getSEOFriendlyName(id, name)}`,\n            { page, previousPath: history.location.pathname + history.location.search })\n    }\n\n    return (\n        <MaterialUICard>\n            <CustomCardHeader name={character.name || ''} status={character.status || ''} />\n            <img src={character.image} alt={character.name} />\n            <CardActions>\n                <Button\n                    onClick={() => goToProfileClickHandler(character.id || 0, character.name || '')}\n                    size=\"small\" color=\"primary\"\n                >\n                    Profile\n                </Button>\n            </CardActions>\n        </MaterialUICard>\n    )\n}\n\nexport default Card","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\n\nimport { Grid, Typography } from '@material-ui/core';\nimport Pagination from '@material-ui/lab/Pagination';\n\nimport LocationState from '../../common/interfaces/location-state.interface';\nimport Card from '../../components/card/card.component';\nimport useGetCharacters from '../../hooks/characters/useGetCharacters';\n\ntype CharactersComponentProps = {\n    searchQuery?: string\n}\n\nconst Characters: React.FC<CharactersComponentProps> = ({ searchQuery = '' }) => {\n    const location = useLocation<LocationState>();\n    const [page, setPage] = useState(Number(location?.state?.page) || 1);\n    const { loading, data } = useGetCharacters({ page, filter: { name: searchQuery } });\n\n    // adder this useEffect to update page on location.state.change\n    useEffect(() => {\n        setPage(location?.state?.page || 1);\n    }, [location.state])\n\n    const onPageChangeHandler = (event: React.ChangeEvent<unknown>, value: number) => {\n        setPage(value);\n    };\n\n    return <div>\n        {loading ? 'Loading ...' : data?.characters.results.length ? <div>\n            <Grid container spacing={3}>\n                {data?.characters?.results?.map(character =>\n                    <Grid key={character.id} item>\n                        <Card character={character} page={page} />\n                    </Grid>)}\n            </Grid>\n\n            {(data?.characters?.info?.pages || 0) > 1 ?\n                <Pagination\n                    onChange={onPageChangeHandler}\n                    page={page}\n                    count={data?.characters?.info?.pages}\n                    color=\"primary\" /> : ''}\n\n        </div> : <Typography variant=\"h6\">\n            No Records found.\n        </Typography>}\n    </div>\n}\n\nexport default Characters","import Characters from '../characters/characters.component';\n\nconst HomePage: React.FC = () => {\n    return <Characters />\n}\n\nexport default HomePage","import { gql, useQuery } from '@apollo/client';\n\nimport CharacterData from '../../common/interfaces/character-data.interface';\nimport Character from '../../common/interfaces/character.interface';\n\nexport const GET_CHARACTER_BY_ID = gql`\n    query getCharacter ($id: ID!) {\n        character (id: $id){\n            id\n            name\n            status\n            image\n            location {\n                name\n            }\n            species\n            type\n            gender\n        }\n    }\n`\nconst useGetCharacterByID = (id: number) => useQuery<CharacterData, Character>(GET_CHARACTER_BY_ID, {\n    variables: { id }\n});\n\nexport default useGetCharacterByID;","export const ADD_VISITED_PROFILE = \"ADD_VISITED_PROFILE\";","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport { Dispatch } from 'redux';\n\nimport { Button, List, ListItem, ListItemText, Typography } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport LocationState from '../../common/interfaces/location-state.interface';\nimport RootAction from '../../common/types/root-action.type';\nimport { getIDFromSEOFriendlyName } from '../../common/utils/seo-name.helper';\nimport useGetCharacterByID from '../../hooks/characters/useGetCharacterByID';\nimport { addVisitedProfile } from '../../store/actions';\nimport { useEffect } from 'react';\n\nconst notAvailbleText = 'Not Available'\nconst ProfilePage: React.FC = () => {\n    const history = useHistory<LocationState>();\n    const params = useParams<{ characterId: string }>();\n    const dispatch = useDispatch<Dispatch<RootAction>>();\n    const characterId = Number(getIDFromSEOFriendlyName(params.characterId));\n\n    const goBackClickHandler = () => {\n        history.push(history.location.state?.previousPath || '/', history.location.state);\n    }\n\n    // incorrect or empty params handling case\n    if (isNaN(characterId) || characterId === 0) {\n        goBackClickHandler();\n    }\n\n    const { data, loading } = useGetCharacterByID(characterId)\n\n    useEffect(() => {\n        if (!loading && data?.character?.id) {\n            dispatch(addVisitedProfile(data?.character));\n        }\n        // additional dependencies to avoid warning\n    }, [loading, data, dispatch])\n\n    return <div>\n        {loading ? 'Loading ...' :\n            <div>\n                <Typography variant='h4'>{data?.character.name}</Typography>\n                <img src={data?.character.image} alt={data?.character.name} />\n                <List>\n                    <ListItem divider>\n                        <ListItemText primary=\"Status\"\n                            secondary={data?.character.status || notAvailbleText} />\n                    </ListItem>\n                    <ListItem divider>\n                        <ListItemText primary=\"Species\"\n                            secondary={data?.character.species || notAvailbleText} />\n                    </ListItem>\n                    <ListItem divider>\n                        <ListItemText primary=\"Type\"\n                            secondary={data?.character.type || notAvailbleText} />\n                    </ListItem>\n                    <ListItem divider>\n                        <ListItemText primary=\"Gender\"\n                            secondary={data?.character.gender || notAvailbleText} />\n                    </ListItem>\n                    <ListItem divider>\n                        <ListItemText primary=\"Location Name\"\n                            secondary={data?.character.location?.name || notAvailbleText} />\n                    </ListItem>\n                </List>\n                <Button onClick={goBackClickHandler} variant=\"contained\"\n                    startIcon={<ArrowBackIcon />}>Go Back</Button>\n            </div>}\n    </div>\n}\n\nexport default ProfilePage","import Character from '../../common/interfaces/character.interface';\nimport AddVisitedProfileAction from '../../common/types/add-visited-profile-action.type';\nimport { ADD_VISITED_PROFILE } from '../action-types';\n\nexport const addVisitedProfile = (character: Character) =>\n    ({\n        type: ADD_VISITED_PROFILE,\n        payload: { id: character.id, name: character.name || '' }\n    }) as AddVisitedProfileAction","import { AppRoute } from \"../../common/interfaces/app-route.interface\";\nimport HomePage from \"../../containers/home-page/home-page.component\";\nimport ProfilePage from \"../../containers/profile-page/profile-page.component\";\nimport SearchPage from \"../../containers/search-page/search-page.component\";\n\nconst routes = [\n    { path: '/', component: HomePage, basePath: '', title: 'Home Page' },\n    { path: '/profile/:characterId', component: ProfilePage, basePath: 'profile', title: 'Character Profile' },\n    { path: '/search', component: SearchPage, basePath: 'search', title: 'Search' }\n] as AppRoute[]\n\nexport default routes;\n\n","import QueryString from 'qs';\nimport React from 'react';\nimport { useLocation } from 'react-router';\n\nimport Characters from '../characters/characters.component';\n\nconst SearchPage: React.FC = () => {\n    const location = useLocation();\n    const queryParams = QueryString.parse(location.search, { ignoreQueryPrefix: true });\n    return <Characters searchQuery={queryParams.q as string} />\n}\n\nexport default SearchPage;","import './app.scss';\n\nimport React, { useEffect } from 'react';\nimport { Redirect, Route, Switch, useLocation } from 'react-router-dom';\n\nimport Footer from '../shared/footer/footer.component';\nimport SearchInput from '../shared/search-input/search-input.component';\nimport appRoutes from './app.routes'\n\nconst App: React.FC = () => {\n\tconst location = useLocation();\n\n\tuseEffect(() => {\n\t\tconst currentRoute = appRoutes.find(route => location.pathname.split('/')[1] === route.basePath);\n\t\t// simplest way to set title, can use other libraries like Helmet\n\t\tdocument.title = currentRoute?.title || '';\n\t}, [location.pathname])\n\n\treturn (\n\t\t<div className='app__container'>\n\t\t\t<SearchInput />\n\t\t\t<Switch>\n\t\t\t\t{appRoutes.map(route => <Route key={route.path} path={route.path} exact component={route.component} />)}\n\t\t\t\t<Route render={() => <Redirect to=\"/\" />} />\n\t\t\t</Switch>\n\t\t\t<div className='app__footer'>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;","import RootState from '../../common/interfaces/root-state.interface';\nimport RootAction from '../../common/types/root-action.type';\nimport { ADD_VISITED_PROFILE } from '../action-types';\n\nconst initialState: RootState = {\n  visitedProfiles: []\n}\n\nconst rootReducer = (state: RootState = initialState, action: RootAction) => {\n  switch (action.type) {\n    case ADD_VISITED_PROFILE: {\n      // Reasons for adding this logic at reducer level:\n      // this requirement is not component specific\n      // if we add this in action dispatcher component we have to add watcher for store in that comp too\n      if (state.visitedProfiles.find(visitedProfile => visitedProfile.id === action.payload.id)) {\n        return state;\n      } else {\n        const visitedProfiles = [action.payload, ...state.visitedProfiles]\n        if (visitedProfiles.length > 10) {\n          visitedProfiles.pop()\n        }\n        return { visitedProfiles };\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","import { createStore } from \"redux\"\nimport rootReducer from \"./reducers\"\n\nconst store = createStore(rootReducer)\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app.component';\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\n\nimport './style.scss';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst client = new ApolloClient({\n\turi: 'https://rickandmortyapi.com/graphql',\n\tcache: new InMemoryCache(),\n});\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<App />\n\t\t\t\t</BrowserRouter>\n\t\t\t</ApolloProvider>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}