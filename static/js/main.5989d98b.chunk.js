(this.webpackJsonpricknmorty=this.webpackJsonpricknmorty||[]).push([[0],{136:function(t,e,n){"use strict";n.r(e);var a,c,r,i=n(0),s=n.n(i),o=n(62),j=n.n(o),l=n(36),d=n(9),b=n(194),h=n(190),u=n(192),O=n(191),p=n(193),x=function(t){return t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},g=n(183),m=n(169),f=n(2),v=function(t){var e=t.page,n=t.count,a=t.onChange;return Object(f.jsx)(m.a,{spacing:2,children:Object(f.jsx)(g.a,{page:e,count:n,variant:"outlined",shape:"rounded",color:"primary",onChange:a})})},y=n(19),w=n(18),k=function(t){return Object(f.jsx)(C,Object(y.a)({},t))},C=Object(w.a)(l.b)((function(t){var e=t.theme;return"\n  text-decoration: none;\n  position: relative;\n  color: ".concat(e.palette.text.primary,";\n  &::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 2px;\n    border-radius: 4px;\n    background-color: ").concat(e.palette.text.primary,";\n    bottom: 0;\n    left: 0;\n    transform-origin: right;\n    transform: scaleX(0);\n    transition: transform .3s ease-in-out;\n  }\n  &:hover::before {\n    transform-origin: left;\n    transform: scaleX(1);\n  }\n")})),I={Alive:"green",Dead:"red",unknown:"gray"},B=function(t){var e=t.status,n=I[e];return Object(f.jsx)(b.a,{bgcolor:n,width:15,height:15,borderRadius:2})},$=function(t){var e=t.id,n=t.name,a=t.image,c=t.status;return Object(f.jsxs)(h.a,{sx:{minWidth:250},className:"character",children:[Object(f.jsx)(O.a,{component:"img",height:"140",image:a,alt:n}),Object(f.jsx)(u.a,{children:Object(f.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(k,{to:"/profile/".concat(e,"-").concat(x(n)),children:Object(f.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:n})}),Object(f.jsx)(B,{status:c})]})})]})},E=function(t){var e=t.id,n=t.name;return Object(f.jsx)(l.b,{to:"/profile/".concat(e,"-").concat(x(n)),children:Object(f.jsx)(p.a,{variant:"body2",color:"text.secondary",children:n})})},S=n(81),D=n(5),R=n(187),L=n(30),M=n(15),N=Object(L.b)({key:"lastSeenCharacters",default:[]}),W=Object(L.c)({key:"addLastSeenCharacter",get:function(t){return(0,t.get)(N)},set:function(t,e){var n=t.set,a=t.get,c=e.id,r=e.name,i=a(N).filter((function(t){return t.name!==r})).slice(0,9);n(N,[{id:c,name:r}].concat(Object(M.a)(i)))}}),q=Object(L.b)({key:"characterPageState",default:1}),F=function(){var t=Object(L.e)(q),e=Object(d.j)(),n=Object(d.o)().pageNumber,a=Object(d.m)(),c=n?parseInt(n):1,r=Object(i.useCallback)((function(t,n){if(e.pathname.includes("page"))a(e.pathname.replace(/page\/\d+/,"page/".concat(n))+e.search);else{var c="/"===e.pathname?"":e.pathname;a("".concat(c,"/page/").concat(n)+e.search)}}),[e.pathname,e.search,a]);return Object(f.jsx)(v,{count:t,page:c,onChange:r})},Y=Object(L.b)({key:"loading",default:!1}),A=function(t){var e=Object(L.d)(Y),n=Object(D.a)(e,2)[1];Object(i.useEffect)((function(){return n(t)}),[t,n]);var a=Object(i.useCallback)((function(){n(!0)}),[n]),c=Object(i.useCallback)((function(){n(!1)}),[n]);return[t,a,c]},G=n(35),J=n(184),P=Object(J.a)(a||(a=Object(G.a)(["\n\tquery characters($page: Int) {\n\t\tcharacters(page: $page) {\n\t\t\tinfo {\n\t\t\t\tcount\n\t\t\t}\n\t\t\tresults {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\timage\n\t\t\t\tstatus\n\t\t\t}\n\t\t}\n\t}\n"]))),T=Object(J.a)(c||(c=Object(G.a)(["\n\tquery characters($page: Int, $filter: FilterCharacter) {\n\t\tcharacters(page: $page, filter: $filter) {\n\t\t\tinfo {\n\t\t\t\tcount\n\t\t\t}\n\t\t\tresults {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\timage\n\t\t\t\tstatus\n\t\t\t}\n\t\t}\n\t}\n"]))),X=Object(J.a)(r||(r=Object(G.a)(["\n\tquery charactersByIds($ids: [ID!]!) {\n\t\tcharactersByIds(ids: $ids) {\n\t\t\tid\n\t\t\tname\n\t\t\timage\n\t\t\tstatus\n\t\t\tgender\n\t\t\tspecies\n\t\t\ttype\n\t\t\tlocation {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n"]))),K=function(){var t=function(){var t,e=Object(L.f)(W),n=Object(d.o)().characterId,a=null===n||void 0===n?void 0:n.replace(/[^0-9]/g,""),c=Object(R.a)(X,{variables:{ids:[a]},onCompleted:function(t){var n;null!==t&&void 0!==t&&null!==(n=t.charactersByIds)&&void 0!==n&&n.length&&e(t.charactersByIds[0])}}),r=c.loading,i=c.error,s=c.data;return A(r),{error:i,character:(null===s||void 0===s||null===(t=s.charactersByIds)||void 0===t?void 0:t.length)&&s.charactersByIds[0]}}(),e=t.error,n=t.character;return e?Object(f.jsxs)(f.Fragment,{children:["`Error! $",e.message,"`"]}):n?Object(f.jsxs)(b.a,{display:"flex",justifyContent:"center",marginY:5,children:[Object(f.jsx)(S.a,{children:Object(f.jsx)("title",{children:n.name})}),Object(f.jsxs)(h.a,{sx:{minWidth:400},children:[Object(f.jsx)(O.a,{component:"img",height:"300",image:n.image,alt:n.name}),Object(f.jsxs)(u.a,{children:[Object(f.jsx)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:Object(f.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:n.name})}),Object(f.jsxs)(b.a,{display:"flex",flexDirection:"column",gap:2,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Species"})," ",n.species]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Type"})," ",n.type]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Gender"})," ",n.gender]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Location name "}),n.location.name]}),Object(f.jsx)(l.b,{to:"/",children:"Back to the homepage"})]})]})]})]}):Object(f.jsx)(b.a,{children:"Character not found!"})},z=function(){var t=function(){var t=Object(l.c)(),e=Object(D.a)(t,1)[0].toString().replace("=",""),n=e.length>0,a=Object(d.o)().pageNumber,c=a?parseInt(a):1,r=Object(L.f)(q),s=n?T:P,o=n?{page:c,filter:{name:e}}:{page:c},j=Object(R.a)(s,{variables:o}),b=j.loading,h=j.error,u=j.data;return Object(i.useEffect)((function(){null!==u&&void 0!==u&&u.characters?r(Math.ceil(u.characters.info.count/20)):r(1)}),[r,u]),A(b),{error:h,data:u}}(),e=t.error,n=t.data;if(e)return Object(f.jsxs)(f.Fragment,{children:["`Error! $",e.message,"`"]});if(null===n||void 0===n||!n.characters)return Object(f.jsx)(f.Fragment,{children:"'No results found'"});var a=n.characters.results;return Object(f.jsxs)(b.a,{marginTop:4,children:[Object(f.jsx)(S.a,{children:Object(f.jsx)("title",{children:"Rick and Morty Characters"})}),Object(f.jsxs)(b.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"start",justifyContent:"start",children:[Object(f.jsx)(b.a,{display:"flex",gap:2,padding:2,flexWrap:"wrap",justifyContent:"center",children:a.map((function(t){return Object(i.createElement)($,Object(y.a)(Object(y.a)({},t),{},{key:t.id}))}))}),Object(f.jsx)(b.a,{minWidth:200,bgcolor:"green",children:Object(f.jsx)(d.a,{})})]}),Object(f.jsx)(b.a,{display:"flex",justifyContent:"center",paddingY:2,children:Object(f.jsx)(F,{})})]})},H=n(8),Q=n(112),U=n.n(Q),V=n(198),Z=n(196),_=n(186),tt=n(171),et=n(197),nt=Object(w.a)("div")((function(t){var e=t.theme;return Object(H.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(tt.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(tt.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"30%"})})),at=Object(w.a)("div")((function(t){return{padding:t.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),ct=Object(w.a)(_.a)((function(t){var e=t.theme;return{color:"inherit","& .MuiInputBase-input":Object(H.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"40ch"})}})),rt=function(t){var e=s.a.useState(""),n=Object(D.a)(e,2),a=n[0],c=n[1],r=Object(d.m)(),i=Object(L.e)(Y);return Object(f.jsx)(b.a,{sx:{flexGrow:1},children:Object(f.jsxs)(Z.a,{position:"fixed",children:[Object(f.jsxs)(et.a,{children:[Object(f.jsx)(k,{to:"/",children:Object(f.jsx)(p.a,{variant:"h5",children:"Rick and Morty"})}),Object(f.jsxs)(nt,{children:[Object(f.jsx)(at,{children:Object(f.jsx)(U.a,{})}),Object(f.jsx)(ct,{id:"search-input",placeholder:"Search\u2026",value:a,onKeyDown:function(t){"Enter"===t.key&&null!==a&&void 0!==a&&r("/search?".concat(a))},onChange:function(t){return c(t.target.value)},inputProps:{"aria-label":"search"}})]})]}),i&&Object(f.jsx)(b.a,{sx:{width:"100%"},children:Object(f.jsx)(V.a,{})})]})})},it=function(){var t=Object(L.e)(W);return Object(f.jsx)(b.a,{display:"flex",flexWrap:"wrap",gap:2,component:"footer",padding:2,bgcolor:"lightblue",role:"footer",children:t.map((function(t){var e=t.id,n=t.name;return Object(f.jsx)(E,{name:n,id:e},e)}))})},st=function(){return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(rt,{}),Object(f.jsx)(b.a,{paddingY:4,children:Object(f.jsx)(d.a,{})}),Object(f.jsx)(it,{})]})};function ot(){return Object(f.jsx)(l.a,{children:Object(f.jsx)(d.d,{children:Object(f.jsxs)(d.b,{path:"/",element:Object(f.jsx)(st,{}),children:[Object(f.jsx)(d.b,{index:!0,element:Object(f.jsx)(z,{})}),Object(f.jsxs)(d.b,{path:"search",children:[Object(f.jsx)(d.b,{index:!0,element:Object(f.jsx)(z,{})}),Object(f.jsx)(d.b,{path:"page",children:Object(f.jsx)(d.b,{path:":pageNumber",element:Object(f.jsx)(z,{})})})]}),Object(f.jsx)(d.b,{path:"page",children:Object(f.jsx)(d.b,{path:":pageNumber",element:Object(f.jsx)(z,{})})}),Object(f.jsx)(d.b,{path:"profile",children:Object(f.jsx)(d.b,{path:":characterId",element:Object(f.jsx)(K,{})})})]})})})}var jt=n(182),lt=n(185),dt=n(181),bt=new jt.a({uri:"https://rickandmortyapi.com/graphql",cache:new lt.a,name:"RickAndMorty",version:"1.0"});j.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(L.a,{children:Object(f.jsx)(dt.a,{client:bt,children:Object(f.jsx)(ot,{})})})}),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.5989d98b.chunk.js.map