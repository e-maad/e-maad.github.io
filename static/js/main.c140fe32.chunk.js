(this["webpackJsonpfrontend-code-challenge"]=this["webpackJsonpfrontend-code-challenge"]||[]).push([[0],{134:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),i=n.n(r),o=n(19),s=n.n(o),l=(n(134),n(13)),d=n(58),j=n(185),u=function(e,t){return"".concat(e,"-").concat(t.replace(/ /g,"-").toLowerCase())},h=n(6),b=function(){var e=Object(l.g)(),t=Object(d.c)((function(e){return e.visitedProfiles}));return t.length?Object(h.jsx)(i.a.Fragment,{children:t.map((function(t){return Object(h.jsx)(j.a,{onClick:function(){return function(t){e.push("/profile/".concat(u(t.id,t.name)),e.location.state)}(t)},color:"primary",children:t.name},t.id)}))}):Object(h.jsx)(i.a.Fragment,{})},O=n(68),p=n(62),f=n(189),m=n(201),v=n(192),g=n(115),x=n.n(g),y=n(204),P=n(80),I=n(206),S=n(207),C=Object(I.a)(a||(a=Object(P.a)(["\n    query GetCharacters($page: Int, $filter: FilterCharacter ) {\n        characters(page: $page, filter: $filter) {\n            info {\n                count\n                pages\n            }\n            results {\n                id\n                name\n                image\n                status\n            }\n        }\n    }\n"]))),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(S.a)(C,{variables:e,skip:t})},F="Loading...",k=function(){var e=Object(l.g)(),t=Object(r.useState)(""),n=Object(p.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),d=s[0],u=s[1],b=Object(r.useState)(!1),g=Object(p.a)(b,2),P=g[0],I=g[1],S=N({filter:{name:d}},""===d),C=S.loading,k=S.data;Object(r.useEffect)((function(){var e=setTimeout((function(){u(a)}),1e3);return function(){clearTimeout(e)}}),[a]);var w=function(t){u(""),I(!1),e.push("/search?q=".concat(t),{page:1})},E=function(){w(a)},L=function(e){"Enter"===e.key&&a&&(I(!1),E())},_=Array.from(new Set((null===k||void 0===k?void 0:k.characters.results.map((function(e){return e.name})))||(C?[F]:[])));return Object(h.jsxs)(f.a,{container:!0,spacing:3,children:[Object(h.jsx)(f.a,{item:!0,xs:9,children:Object(h.jsx)(y.a,{value:a,onChange:function(e,t){w(t||"")},onInputChange:function(e,t){t&&c(t),P||I(!0)},options:_,selectOnFocus:!0,freeSolo:!0,open:P,onBlur:function(){return I(!1)},renderInput:function(e){return Object(h.jsx)(m.a,Object(O.a)(Object(O.a)({},e),{},{label:"Search Character",InputProps:Object(O.a)(Object(O.a)({},e.InputProps),{},{onKeyDown:L,endAdornment:Object(h.jsxs)(i.a.Fragment,{children:[C?Object(h.jsx)(v.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},getOptionDisabled:function(e){return e===F}})}),Object(h.jsx)(f.a,{item:!0,xs:3,children:Object(h.jsx)(j.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(h.jsx)(x.a,{}),onClick:E,children:"Search"})})]})},w=n(87),E=n(205),L=n(193),_=n(194),D=(n(143),n(116)),$=n.n(D),q=function(e){var t=e.name,n=e.status;return Object(h.jsx)("div",{className:"custom-card-header-container",children:Object(h.jsxs)("div",{className:"custom-card-header",children:[t,Object(h.jsx)("span",{className:$()("custom-card-header__status",n.toLowerCase()),children:n})]})})},A=function(e){var t=e.character,n=e.page,a=Object(l.g)();return Object(h.jsxs)(L.a,{children:[Object(h.jsx)(q,{name:t.name||"",status:t.status||""}),Object(h.jsx)("img",{src:t.image,alt:t.name}),Object(h.jsx)(_.a,{children:Object(h.jsx)(j.a,{onClick:function(){return e=t.id||0,c=t.name||"",void a.push("/profile/".concat(u(e,c)),{page:n,previousPath:a.location.pathname+a.location.search});var e,c},size:"small",color:"primary",children:"Profile"})})]})},T=function(e){var t,n,a,c=e.searchQuery,o=void 0===c?"":c,s=Object(l.h)(),d=Object(r.useState)(Number(null===s||void 0===s||null===(t=s.state)||void 0===t?void 0:t.page)||1),j=Object(p.a)(d,2),u=j[0],b=j[1],O=N({page:u,filter:{name:o}}),m=O.loading,v=O.data;Object(r.useEffect)((function(){var e;b((null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.page)||1)}),[s.state]);return m?Object(h.jsx)(i.a.Fragment,{children:"Loading ..."}):(null===v||void 0===v?void 0:v.characters.results.length)?Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(f.a,{container:!0,spacing:3,children:v.characters.results.map((function(e){return Object(h.jsx)(f.a,{item:!0,children:Object(h.jsx)(A,{character:e,page:u})},e.id)}))}),"data: ",JSON.stringify(v),(v.characters.info.pages||0)>1?Object(h.jsx)(E.a,{onChange:function(e,t){b(t)},page:u,count:null===v||void 0===v||null===(n=v.characters)||void 0===n||null===(a=n.info)||void 0===a?void 0:a.pages,color:"primary"}):""]}):Object(h.jsx)(w.a,{variant:"h6",children:"No Records found."})},z=function(){return Object(h.jsx)(T,{})},B=n(191),G=n(195),J=n(196),R=n(117),Q=n.n(R),H=Object(I.a)(c||(c=Object(P.a)(["\n    query getCharacter ($id: ID!) {\n        character (id: $id){\n            id\n            name\n            status\n            image\n            location {\n                name\n            }\n            species\n            type\n            gender\n        }\n    }\n"]))),K=function(e){return Object(S.a)(H,{variables:{id:e}})},M="ADD_VISITED_PROFILE",U="Not Available",V=[{path:"/",component:z,basePath:"",title:"Home Page"},{path:"/profile/:characterId",component:function(){var e,t,n=Object(l.g)(),a=Object(l.i)(),c=Object(d.b)(),o=(t=a.characterId,Number(t.split("-")[0])),s=function(){var e;n.push((null===(e=n.location.state)||void 0===e?void 0:e.previousPath)||"/",n.location.state)};(isNaN(o)||0===o)&&s();var u=K(o),b=u.data,O=u.loading;return Object(r.useEffect)((function(){var e,t;!O&&(null===b||void 0===b||null===(e=b.character)||void 0===e?void 0:e.id)&&c((t=null===b||void 0===b?void 0:b.character,{type:M,payload:{id:t.id,name:t.name||""}}))}),[O,b,c]),O?Object(h.jsx)(i.a.Fragment,{children:"Loading ..."}):b?Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(w.a,{variant:"h4",children:b.character.name}),Object(h.jsx)("img",{src:null===b||void 0===b?void 0:b.character.image,alt:null===b||void 0===b?void 0:b.character.name}),Object(h.jsxs)(B.a,{children:[Object(h.jsx)(G.a,{divider:!0,children:Object(h.jsx)(J.a,{primary:"Status",secondary:b.character.status||U})}),Object(h.jsx)(G.a,{divider:!0,children:Object(h.jsx)(J.a,{primary:"Species",secondary:b.character.species||U})}),Object(h.jsx)(G.a,{divider:!0,children:Object(h.jsx)(J.a,{primary:"Type",secondary:b.character.type||U})}),Object(h.jsx)(G.a,{divider:!0,children:Object(h.jsx)(J.a,{primary:"Gender",secondary:(null===b||void 0===b?void 0:b.character.gender)||U})}),Object(h.jsx)(G.a,{divider:!0,children:Object(h.jsx)(J.a,{primary:"Location Name",secondary:(null===(e=b.character.location)||void 0===e?void 0:e.name)||U})})]}),Object(h.jsx)(j.a,{onClick:s,variant:"contained",startIcon:Object(h.jsx)(Q.a,{}),children:"Go Back"})]}):(O||s(),Object(h.jsx)(i.a.Fragment,{}))},basePath:"profile",title:"Character Profile"},{path:"/search",component:function(){var e=Object(l.g)(),t=new URLSearchParams(e.location.search).get("q");return t?Object(h.jsx)(T,{searchQuery:t}):(e.push("/"),Object(h.jsx)(i.a.Fragment,{}))},basePath:"search",title:"Search"}],W=function(){var e=Object(l.h)();return Object(r.useEffect)((function(){var t=V.find((function(t){return e.pathname.split("/")[1]===t.basePath}));document.title=(null===t||void 0===t?void 0:t.title)||""}),[e.pathname]),Object(h.jsxs)("div",{className:"app__container",children:[Object(h.jsx)(k,{}),Object(h.jsxs)(l.d,{children:[V.map((function(e){return Object(h.jsx)(l.b,{path:e.path,exact:!0,component:e.component},e.path)})),Object(h.jsx)(l.b,{render:function(){return Object(h.jsx)(l.a,{to:"/"})}})]}),Object(h.jsx)("div",{className:"app__footer",children:Object(h.jsx)(b,{})})]})},X=n(202),Y=n(203),Z=n(200),ee=(n(144),n(120)),te=n(119),ne={visitedProfiles:[]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;if(t.type===M){if(e.visitedProfiles.find((function(e){return e.id===t.payload.id})))return e;var n=[t.payload].concat(Object(te.a)(e.visitedProfiles));return n.length>10&&n.pop(),{visitedProfiles:n}}return e},ce=Object(ee.a)(ae),re=n(76),ie=new X.a({uri:"https://rickandmortyapi.com/graphql",cache:new Y.a});s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(d.a,{store:ce,children:Object(h.jsx)(Z.a,{client:ie,children:Object(h.jsx)(re.a,{children:Object(h.jsx)(W,{})})})})}),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.c140fe32.chunk.js.map